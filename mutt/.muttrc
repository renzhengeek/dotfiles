# Eric's muttrc file

set realname = "@@MUTT_REALNAME@@"
set from = "@@MUTT_FROM@@"

set mbox_type = Maildir
set folder = ~/.MailCache
set spoolfile = "+INBOX"
set record = "+/Sent"
set postponed = "+/Work In Progress"
#source ~/.mutt/mailboxes
#mailboxes =INBOX =ha-team =ha-devel =ocfs2 =ocfs2-tools =ceph-users =ceph-devel =ceph-cn =ocfs2-test =research =kernel =Sent
mailboxes `echo ~/.MailCache/*`

# the smtp sendmail setting
set sendmail = "/usr/bin/msmtp"
set use_from = yes
set from = @@EMAIL@@
set envelope_from = yes

# address book, contacts
set alias_file = ~/.mutt/alias
set sort_alias = alias
source $alias_file

set quit=ask-yes
set include
set indent_str="> " 
#my_hdr From: @@EMAIL@@
#score "~N" +4
score "~f @@X@@" +2
score "~s @@X@@" +4
score "~D" -5
#score "~O" +1
set pager_stop
#set fast_reply
set wait_key=yes
set edit_headers=no
set pager_index_lines=4

#for mailist
subscribe ocfs2-devel@oss.oracle.com
subscribe ocfs2-tools-devel@oss.oracle.com
subscribe ocfs2-test-devel@oss.oracle.com
subscribe ocfs2-users@oss.oracle.com


#mail view, edit, forward setting
set sort = threads
set sort_aux = reverse-last-date-received
set auto_tag = yes

set editor = "vim"

#set date_format="%a, %b %d, %Y at %I:%M:%S%p %Z %[%Z]"
set index_format="!%4C %Z %[%b %d] %-15.15L (%?l?%4l&%4c?) %s"
set pager_format="-%Z- %C %[!%b %e at %H:%M]  %.20n   %s%*  -- (%P)"
set forward_format = "fwd: %s"
set attribution = "On %d, %n wrote: "
set sidebar_visible=yes
set sidebar_width=24
set sidebar_delim='|'

#color
source ~/.mutt/colors.linux

##bind keys
bind	pager	,g	group-reply
bind	pager	gg	top
bind	pager	G	bottom
bind	pager	k	previous-line
bind	pager	j	next-line

##bind for index
bind	index	zt	current-top
bind	index	zz	current-middle
bind	index	zb	current-bottom
bind	index	gg	first-entry
bind	index	G	last-entry

#use <quote-char> to add space.
macro index,pager gi "<change-folder>=INBOX<enter><first-entry>" "Go to inbox"
macro index,pager gs "<change-folder>=Sent<enter>" "Go to sent"
macro index,pager gb "<change-folder>=bugzilla<enter><first-entry>" "Go to bugzilla"
macro index,pager gr "<change-folder>=report<enter>" "Go to report"

#macro index (t '~/mailtogit/mail-to-mbox^M'  "Dumps tagged patches into ~/incoming/*.mbox"
#macro index (a '~/mailtogit/git-apply-incomming^M'  "git am ~/incoming/*.mbox"
#macro index (g '~/mailtogit/git-apply^M'  "git am tagged patches"
#macro index (r 'rm -f ~/incoming/*.mbox^M'  "Nukes all ~/incoming/"
#macro index (l 'ls -ltr ~/incoming/^M'  "ls -l ~/incoming/"        
#macro index ,t '~/mailtogit/mail-to-mbox^M'  "Dumps currently viewed patch into ~/incoming/*.mbox"
#macro index ,g '~/mailtogit/git-apply^M' "git am currently viewed patch"
#macro index ,a '~/mailtogit/git-abort^M' "git am --abort"          
#macro index ,r '~/mailtogit/git-reset^M' "git-reset --hard origin" 


macro index,pager b '<enter-command>toggle sidebar_visible<enter>'
bind index,pager <esc>p sidebar-prev #alt+p select previous folder
bind index,pager <esc>n sidebar-next #alt+n select next folder
bind index,pager <esc>o sidebar-open #alt+o open folder
